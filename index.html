<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Timer</title>

  <!-- ‚≠ê‚≠ê‚≠ê –°–ö–†–ò–ü–¢ –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò SERVICE WORKER ‚≠ê‚≠ê‚≠ê -->
  <script>
    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker
    if ('serviceWorker' in navigator && window.location.protocol === 'https:') {
      console.log('üöÄ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker...');

      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js', {
          scope: '/',
          updateViaCache: 'none'
        })
          .then(registration => {
            console.log('‚úÖ SW –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration.scope);

            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
            setInterval(() => {
              registration.update();
            }, 5 * 60 * 1000);
          })
          .catch(error => {
            console.error('‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ SW:', error);
          });
      });
    }
  </script>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>

</html>